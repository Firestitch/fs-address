<mat-form-field [ngClass]="{'hide-underline': addressFormatConfig && addressFullNameString}">

  <input matInput
         placeholder="Location"
         [ngClass]="{'hide': addressFormatConfig && addressFullNameString}"
         [ngModel]="addressFullNameString"
         (ngModelChange)="addressChanged($event)"
         (change)="change($event);"
         [fsFormRequired]="isRequired"
         [fsFormFunction]="functionPromise"
         #search
         [matAutocomplete]="auto">

  <div [hidden]="!addressFormatConfig || !addressFullNameString">
    <fs-address-format
      [(address)]="address"
      [config]="addressFormatConfig"
    ></fs-address-format>
  </div>

  <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectionChange($event)">
    <mat-option *ngFor="let option of predictions" [value]="option.description">
      {{option.description}}
    </mat-option>
  </mat-autocomplete>

  <mat-icon
    class="control"
    matSuffix
    *ngIf="addressFormatConfig && addressFullNameString"
    (click)="clear()"
  >clear</mat-icon>
  <mat-icon
    class="control"
    matSuffix
    *ngIf="addressFormatConfig && addressFullNameString"
    (click)="edit()"
  >mode_edit</mat-icon>

</mat-form-field>
