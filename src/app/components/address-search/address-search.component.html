<mat-form-field
  #searchFormField
  [floatLabel]="emptyAddress ? 'auto' : 'always'">
    <input
      matInput
      autocomplete="off"
      [placeholder]="config.label || 'Location'"
      [(ngModel)]="address"
      [ngClass]="{ hide: !emptyAddress }"
      [fsFormFunction]="functionPromise"
      [matAutocomplete]="autocomplete"
      [ngModelOptions]="{ updateOn: 'blur' }"
      [disabled]="disabled"
      (keyup)="addressChanged($event)"
      (focus)="focus()"
      (blur)="blur()"
      [name]="autocompleteName"
      #search>

    <fs-address-format
      [(address)]="address"
      [format]="format"
      [name]="name"
      [disabled]="disabled">
    </fs-address-format>

    <mat-autocomplete
      (optionSelected)="autocompleteSelected($event.option)"
      [displayWith]="autocompleteFormat"
      autoActiveFirstOption
      #autocomplete="matAutocomplete">
      <mat-option *ngFor="let option of predictions" [value]="option">
        {{ option.description }}
      </mat-option>
    </mat-autocomplete>

    <mat-icon
      class="control"
      matSuffix
      *ngIf="showClear && !emptyAddress && !disabled && !readonly"
      (click)="clear()">clear</mat-icon>

    <mat-icon
      class="control"
      matSuffix
      *ngIf="showEdit && !emptyAddress && !disabled && !readonly"
      (click)="edit()">mode_edit</mat-icon>
</mat-form-field>
